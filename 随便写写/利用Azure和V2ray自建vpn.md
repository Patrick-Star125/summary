本文假设你已经有了一些服务器使用经验，了解基本的shell和网络通信常识，如果你没有这些基础，建议看这篇文章：[V2Ray搭建详细图文教程](https://github.com/233boy/v2ray/wiki/V2Ray搭建详细图文教程#获取vps信息)

## 注册并购买Azure虚拟机（学生邮箱免费）

自建vpn的硬件基础是有一台非大陆地区的服务器或者虚拟机，这部分大家可以自己想办法，我这里介绍一种使用学生邮箱免费获取低性能虚拟机的方法（不要问为什么用性能那么低的VPS，因为普通配置的VPS对学生来讲实在是有点贵）。

微软是全球第二大的云服务供应商，旗下Azure云服务提供多种型号的云服务器/虚拟机。国内可凭借学生邮箱认证后获取免费100美元额度用于购买服务器/虚拟机。

**学生认证**

首先你要有一个微软账号，相信大部分人都是有的，然后进入[Azure官网](https://portal.azure.com)。登陆后进行学生认证，或者直接在微软官网进行认证。

![](http://1.14.100.228:8002/images/2022/06/12/20220612222601.png)

认证后在Azure主页面搜索教育就能够看到自己已经获得了100美元的教育额度

![](http://1.14.100.228:8002/images/2022/06/12/20220612222748.png)

当然重点并不在这儿，我们点击免费服务-浏览所有

![](http://1.14.100.228:8002/images/2023/03/26/20230326103630.png)

可以看到Azure全家桶服务，不得不感叹微软真是有钱，这些全都是free for students，点击创建Linux虚拟机

![](http://1.14.100.228:8002/images/2023/03/26/20230326103843.png)

即可按照自己的配置创建虚拟机，其它的没什么好注意的，除了区域和大小，注意大小一定是B1s，这样才可以用750小时/月的免费服务

![](http://1.14.100.228:8002/images/2022/06/12/20220612223037.png)

如果你不用B1s，而是选择用其它虚拟机，那么要注意而大小尽量选小一些，节省余额，不能按照 每月*12 来算，因为通过教育余额购买的虚拟机是不享受 1TB/Month 的免费流量的，所有流量都按0.09$/GB来算，我们只用vps来搭建vpn，因此不需要除了这一目的以外硬件性能。

如果你用B1s，那就不用注意那么多，直接用就可以了。

## 部署V2ray

购买后我们连接到vps，这里我用[Tabby](https://github.com/Eugeny/tabby)作为连接工具，它的基本使用和其它连接工具差不多，这里就不赘述了。

获取一键安装配置脚本，保存到当前目录中

> wget https://git.io/v2ray.sh

如果发现`wget`和`curl`都无法下载的话，可以直接在浏览器里面下载v2ray.sh，直接复制脚本到服务器上即可。

之后执行脚本，进行安装

> bash v2ray.sh

接下来的配置如果你了解的话可以自己配置，如果不了解的话和我一样即可

![](http://1.14.100.228:8002/images/2022/06/13/20220613211246.png)

这里选1

![](http://1.14.100.228:8002/images/2023/03/26/20230326104428.png)

这里默认，enter即可

![](http://1.14.100.228:8002/images/2022/06/13/20220613212955.png)

默认enter

![](http://1.14.100.228:8002/images/2022/06/13/20220613213022.png)

这里随意，实测影响不大

![](http://1.14.100.228:8002/images/2022/06/13/T90PDTF5UVGKTB5KX7.png)

这里直接默认N即可

顺利的话安装一堆东西之后就需要输入域名，这里输入我们提前配置的域名，如果没有域名的话这里也不是强制的

就能够看到自己的服务器信息了

![](http://1.14.100.228:8002/images/2022/06/13/20220613213816.png)

这里比较重要的有三个信息，地址、用户ID和路径

> 安装完毕后，输入 `v2ray` 即可管理 V2Ray，管理功能包括更改协议配置，卸载v2ray等

## 安装Qv2ray

v2ray的客户端软件有很多，这里我使用的是[Qv2ray](https://github.com/Qv2ray/Qv2ray)，虽然这个项目已经停止维护了，但鉴于这个软件十分完善并且使用方便，我们依然可以使用它来满足我们的需求。

从项目releases下载安装运行后，我们对Qv2ray进行一些基本的配置















